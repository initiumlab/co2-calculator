function tooltipVal1(a){return+a.value+" 件"}function tooltipVal2(a){return+a.value+" 克"}function tooltipVal3(a){var b={mtr:"HKD",bus:"HKD",minibus:"HKD",taxi:"HKD",car:"km",bike:"km"},c="mtr";return $(".dropdown-menu a").each(function(a,b){$(b).hasClass("selected")&&(c=$(b).attr("id"))}),+a.value+" "+b[c]}function slideChange(){totalCarbon=4.2*cloth1.getValue()-2.1*cloth2.getValue()+.013*food1.getValue()*30+.45*food2.getValue()*.001*30+.57*parseFloat(house1.attr("value"))+.66*parseFloat(house2.attr("value"))+1.75*parseFloat(house3.attr("value"))+1.88*parseFloat(house4.attr("value"))+.0114*parseFloat(transport1.attr("value"))*30+.0493*parseFloat(transport2.attr("value"))*30+.094*parseFloat(transport3.attr("value"))*30+.0414*parseFloat(transport4.attr("value"))*30+.2119*parseFloat(transport5.attr("value"))*30,console.log(totalCarbon.toFixed(2)),$("#totalCarbon").text(totalCarbon.toFixed(2)),treeNumber=(totalCarbon/19.16).toFixed(2)}$("#cloth1").roundSlider({radius:60,width:5,handleSize:"+30",sliderType:"min-range",value:0,drag:"slideChange",max:20,tooltipFormat:"tooltipVal1"}),$("#cloth2").roundSlider({radius:60,width:5,handleSize:"+30",sliderType:"min-range",value:0,drag:"slideChange",max:20,tooltipFormat:"tooltipVal1"}),$("#food1").roundSlider({radius:60,width:5,handleSize:"+30",sliderType:"min-range",value:0,drag:"slideChange",max:1e3,tooltipFormat:"tooltipVal2"}),$("#food2").roundSlider({radius:60,width:5,handleSize:"+30",sliderType:"min-range",value:0,drag:"slideChange",max:1e3,tooltipFormat:"tooltipVal2"}),$("#transport").roundSlider({radius:60,width:5,handleSize:"+30",sliderType:"min-range",value:3,drag:"slideChange",max:50,tooltipFormat:"tooltipVal3"}),$("#house1").slider({min:0,max:15,step:1,value:0,tooltip:"hide"}),$("#house2").slider({min:0,max:500,step:1,value:0,tooltip:"hide"}),$("#house3").slider({min:0,max:50,step:1,value:0,tooltip:"hide"}),$("#house4").slider({min:0,max:50,step:1,value:0,tooltip:"hide"}),$("#transport1").slider({min:0,max:50,step:1,value:0,tooltip:"hide"}),$("#transport2").slider({min:0,max:50,step:1,value:0,tooltip:"hide"}),$("#transport3").slider({min:0,max:50,step:1,value:0,tooltip:"hide"}),$("#transport4").slider({min:0,max:200,step:1,value:0,tooltip:"hide"}),$("#transport5").slider({min:0,max:100,step:1,value:0,tooltip:"hide"}),$("#transport6").slider({min:0,max:30,step:1,value:0,tooltip:"hide"});var cloth1=$("#cloth1").data("roundSlider"),cloth2=$("#cloth2").data("roundSlider"),food1=$("#food1").data("roundSlider"),food2=$("#food2").data("roundSlider"),house1=$("#house1"),house2=$("#house2"),house3=$("#house3"),house4=$("#house4"),transport1=$("#transport1"),transport2=$("#transport2"),transport3=$("#transport3"),transport4=$("#transport4"),transport5=$("#transport5"),transport6=$("#transport6"),treeNumber=0,totalCarbon=0,verticalChange=$(".verticleSlider").on("slide",function(){totalCarbon=4.2*cloth1.getValue()-2.1*cloth2.getValue()+.013*food1.getValue()*30+.45*food2.getValue()*.001*30+.57*parseFloat(house1.attr("value"))+.66*parseFloat(house2.attr("value"))+1.75*parseFloat(house3.attr("value"))+1.88*parseFloat(house4.attr("value"))+.0114*parseFloat(transport1.attr("value"))*30+.0493*parseFloat(transport2.attr("value"))*30+.094*parseFloat(transport3.attr("value"))*30+.0414*parseFloat(transport4.attr("value"))*30+.2119*parseFloat(transport5.attr("value"))*30,$("#totalCarbon").text(totalCarbon.toFixed(2)),$("#house1Value").text($("#house1").attr("value")),$("#house2Value").text($("#house2").attr("value")),$("#house3Value").text($("#house3").attr("value")),$("#house4Value").text($("#house4").attr("value")),$("#transport1Value").text($("#transport1").attr("value")),$("#transport2Value").text($("#transport2").attr("value")),$("#transport3Value").text($("#transport3").attr("value")),$("#transport4Value").text($("#transport4").attr("value")),$("#transport5Value").text($("#transport5").attr("value")),$("#transport6Value").text($("#transport6").attr("value")),treeNumber=(totalCarbon/19.16).toFixed(2)});$("#lightboxTrigger").click(function(){$("#lightbox").fadeIn(500),console.log(treeNumber);for(var a,b=0;b<parseInt(treeNumber)+1;b++)a=$('<div class="tree" />'),$("#treeArea").append(a);$("#treeArea div:last-child").css("opacity",treeNumber-parseInt(treeNumber)),$("#treeNumber").text(treeNumber),$("#treeArea div").addClass(18>treeNumber?"wide":"narrow"),$("#totalCarbon2").text(totalCarbon.toFixed(2))}),$("#close").click(function(){$("#lightbox").fadeOut(500),$("#treeArea div").remove()});